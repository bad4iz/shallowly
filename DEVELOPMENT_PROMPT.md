# Shallowly - Техническое задание

## Обзор

Разработать современную легковесную библиотеку для поверхностного рендеринга (shallow rendering) React-компонентов в качестве замены устаревшему `enzyme.shallow()`. Библиотека должна обеспечивать быстрое модульное тестирование, рендеря только верхний уровень компонента без выполнения кода дочерних компонентов.

## Основные требования

### 1. Поверхностный рендеринг

- Рендерить только корневой компонент
- Предотвращать рендеринг дочерних компонентов
- Поддерживать функциональные и классовые компоненты
- Обрабатывать React-элементы и фрагменты

### 2. Навигация по компонентам

- `find(селектор)` - Найти все узлы, соответствующие селектору

### 3. Доступ к пропсам

- `props()` - Получить все пропсы
- `prop(ключ)` - Получить значение конкретного пропса

## Рекомендации по реализации кода

- в коде использовать jsdoc на русском и английском языках.

### 1. Производительность

- Оптимизация для быстрого выполнения тестов
- Минимизация использования памяти
- Избежание лишних ререндеров

### 2. Поддержка TypeScript

- Полноценные TypeScript-определения
- Типизированные селекторы и матчеры
- Корректные дженерики для типов компонентов

### 3. Функциональность для тестирования

- Поддержка snapshot-тестирования
- Кастомные матчеры для частых проверок

### 4. Обработка ошибок

- Понятные сообщения об ошибках
- Полезные предупреждения для типичных ошибок
- Грациозная деградация для краевых случаев

## Пример использования

```tsx
import { shallow } from 'shallowly';
import { MyComponent } from './MyComponent';

describe('MyComponent', () => {
  it('отображает кнопку с правильными пропсами', () => {
    const onClick = jest.fn();
    const wrapper = shallow(<MyComponent onClick={onClick} />);

    const button = wrapper.find('button');

    expect(button.prop('disabled')).toBe(false);
  });
});
```

## Приоритеты разработки

1. Базовый поверхностный рендеринг
2. Навигация и выборка компонентов
3. Доступ к пропсам

## Стратегия тестирования

- Модульные тесты для всех публичных API
- Интеграционные тесты с React-компонентами
- Snapshot-тестирование вывода компонентов
- Бенчмарки производительности

## Документация

- Справочник API
- Гайд по миграции с enzyme
- Рецепты и примеры использования
- Руководство по устранению неполадок
